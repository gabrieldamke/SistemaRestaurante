@page "{id:int}"
@model Web.Pages.Mesa.Details

@{
    Layout = "_Layout";
    ViewData["Title"] = "Detalhes";
}

<h2>@ViewData["Title"]</h2>

<div>
    <h4>Mesa</h4>
    <hr/>
    
    @if (Model.Mesa is not null)
    {
        <dl class="dl-horizontal">
            <dt>
                <label asp-for="Mesa.Id"></label>
            </dt>
            <dd>
                @Model.Mesa.Id
            </dd>
            <dt>
                <label asp-for="Mesa.Numero"></label>
            </dt>
            <dd>
                @Model.Mesa.Numero
            </dd>
            <dt>
                <label asp-for="Mesa.HoraAbertura"></label>
            </dt>
            <dd>
                @Model.Mesa.HoraAbertura
            </dd>
            <dt>
                <label asp-for="Mesa.Status"></label>
            </dt>
            <dd>
                @Model.Mesa.Status
            </dd>
        </dl>
        
        <hr/>
        
        @if (Model.Mesa.Atendimentos is not null)
        {
            <h4>Atendimentos</h4>
            
            <table>
                <thead>
                <tr>
                    <th>Código</th>
                    <th>Hora de Abertura</th>
                    <th>Hora de Fechamento</th>
                    <th></th>
                </tr>
                </thead>
                <tbody>
                @foreach (var atendimento in Model.Mesa.Atendimentos)
                {
                    <tr>
                        <td>@atendimento.Id</td>
                        <td>@atendimento.HoraAbertura</td>
                        <td>@atendimento.HoraFechamento</td>
                        <td>
                            <a asp-page="Details" asp-route-id="@atendimento.Id">Detalhes</a> |
                            <a asp-page="CreateEdit" asp-page-handler="Edit" asp-route-id="@atendimento.Id">Editar</a> |
                            <a asp-page="Delete" asp-route-id="@atendimento.Id">Excluir</a>
                        </td>
                    </tr>
                }
                </tbody>
            </table>
        }
    }
    else
    {
        <p>Nenhuma mesa encontrada.</p>
    }
</div>

<div>
    @if (Model.Mesa is not null)
    {
        <a asp-page="CreateEdit" asp-page-handler="Edit" asp-route-id="@Model.Mesa.Id">Editar</a>
        <a asp-page="Delete" asp-route-id="@Model.Mesa.Id">Excluir</a>
    }
    <a asp-page="Index">Voltar</a>
</div>